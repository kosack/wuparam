<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>wuparam: SuperCutter.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>SuperCutter.h</h1><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef SUPERCUTTER_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define SUPERCUTTER_H</span>
00003 <span class="preprocessor"></span>
00004 <span class="comment">// void</span>
00005 <span class="comment">// example( HillasParameterization &amp;param ) {</span>
00006 <span class="comment">//</span>
00007 <span class="comment">//     SuperCutter cutter;</span>
00008 <span class="comment">//</span>
00009 <span class="comment">//     if (cutter.pass( param, ASYMM|ALPHA )) {</span>
00010 <span class="comment">//          // passed orientation cuts</span>
00011 <span class="comment">//</span>
00012 <span class="comment">//     }</span>
00013 <span class="comment">//</span>
00014 <span class="comment">//     if (cutter.pass( param, ALL_CUTS | ~ASYMM ) {</span>
00015 <span class="comment">//          // passed all, ignoring asymmetry</span>
00016 <span class="comment">//     }</span>
00017 <span class="comment">// </span>
00018 <span class="comment">// }</span>
00019 
00020 <span class="preprocessor">#include &lt;iostream&gt;</span>
00021 <span class="preprocessor">#include "Config.h"</span>
00022 <span class="preprocessor">#include "ImageAnalyzer.h"</span>
00023 
00024 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00025 
<a name="l00029"></a><a class="code" href="namespaceCuts.html">00029</a> <span class="keyword">namespace </span>Cuts {
00030     <span class="keyword">enum</span> CutMask { SIZE     = 1 &lt;&lt; 0, 
00031                    MAX      = 1 &lt;&lt; 1, 
00032                    FRAC     = 1 &lt;&lt; 2,  
00033                    LENSIZE  = 1 &lt;&lt; 3, 
00034                    DISTANCE = 1 &lt;&lt; 4,  
00035                    LENGTH   = 1 &lt;&lt; 5,  
00036                    WIDTH    = 1 &lt;&lt; 6, 
00037                    ALPHA    = 1 &lt;&lt; 7,  
00038                    ASYMM    = 1 &lt;&lt; 8, 
00039                    ALL_CUTS = 0xFFFFFFFF
00040     };
00041 };
00042 
<a name="l00050"></a><a class="code" href="classSuperCutter.html">00050</a> <span class="keyword">class </span><a class="code" href="classSuperCutter.html">SuperCutter</a> {
00051 
00052  <span class="keyword">public</span>:
00053 
00054     <span class="keywordtype">void</span> setCuts( <a class="code" href="structCutInfo.html">CutInfo</a> &amp;cuts );
00055     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSuperCutter.html#a1">applyCorrections</a>(<a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param);
00056     <span class="keywordtype">bool</span> <a class="code" href="classSuperCutter.html#a2">pass</a>( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param, <span class="keywordtype">int</span> cutmask );
00057 
00058     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> passSize( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param );
00059     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> passMax( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param );
00060     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> passFrac( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param );
00061     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> passLensize( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param );
00062     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> passLength( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param );
00063     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> passWidth( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param );
00064     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> passDistance( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param );
00065     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> passAlpha( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param );
00066     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> passAsymm( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param );
00067     
00068  <span class="keyword">protected</span>:
00069 
00070     <a class="code" href="structCutInfo.html">CutInfo</a> _cuts;
00071 
00072 };
00073 
00074 <span class="keyword">inline</span> <span class="keywordtype">void</span> SuperCutter::setCuts( <a class="code" href="structCutInfo.html">CutInfo</a> &amp;cuts) {
00075     _cuts = cuts;
00076 }
00077 
00078 <span class="keyword">inline</span> <span class="keywordtype">bool</span> SuperCutter::passSize( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param ) {
00079     <span class="keywordflow">return</span> (param.<a class="code" href="structHillasParameterization.html#o5">size</a> &gt;= _cuts.<a class="code" href="structCutInfo.html#o6">size</a>.<a class="code" href="structCut.html#o0">lower</a> &amp;&amp; 
00080             param.<a class="code" href="structHillasParameterization.html#o5">size</a> &lt;= _cuts.<a class="code" href="structCutInfo.html#o6">size</a>.<a class="code" href="structCut.html#o1">upper</a>) ;
00081 }
00082 
00083 <span class="keyword">inline</span> <span class="keywordtype">bool</span> SuperCutter::passMax( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param ){
00084     <span class="keywordflow">if</span> (param.<a class="code" href="structHillasParameterization.html#o13">max</a>[0] &gt;= _cuts.<a class="code" href="structCutInfo.html#o8">max1</a>.<a class="code" href="structCut.html#o0">lower</a> &amp;&amp; 
00085         param.<a class="code" href="structHillasParameterization.html#o13">max</a>[0] &lt;= _cuts.<a class="code" href="structCutInfo.html#o8">max1</a>.<a class="code" href="structCut.html#o1">upper</a>) {
00086         <span class="keywordflow">if</span> (param.<a class="code" href="structHillasParameterization.html#o13">max</a>[1] &gt;= _cuts.<a class="code" href="structCutInfo.html#o9">max2</a>.<a class="code" href="structCut.html#o0">lower</a> &amp;&amp; 
00087             param.<a class="code" href="structHillasParameterization.html#o13">max</a>[1] &lt;= _cuts.<a class="code" href="structCutInfo.html#o9">max2</a>.<a class="code" href="structCut.html#o1">upper</a>) {
00088             <span class="keywordflow">if</span> (param.<a class="code" href="structHillasParameterization.html#o13">max</a>[2] &gt;= _cuts.<a class="code" href="structCutInfo.html#o10">max3</a>.<a class="code" href="structCut.html#o0">lower</a> &amp;&amp; 
00089                 param.<a class="code" href="structHillasParameterization.html#o13">max</a>[2] &lt;= _cuts.<a class="code" href="structCutInfo.html#o10">max3</a>.<a class="code" href="structCut.html#o1">upper</a>) {
00090                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00091             }
00092         }
00093     }
00094     <span class="keywordflow">return</span> <span class="keyword">false</span>;
00095 }
00096 
00097 <span class="keyword">inline</span> <span class="keywordtype">bool</span> SuperCutter::passFrac( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param ){
00098     <span class="keywordflow">return</span> (param.<a class="code" href="structHillasParameterization.html#o15">frac</a>[2] &gt;= _cuts.<a class="code" href="structCutInfo.html#o11">frac3</a>.<a class="code" href="structCut.html#o0">lower</a> &amp;&amp;
00099             param.<a class="code" href="structHillasParameterization.html#o15">frac</a>[2] &lt;= _cuts.<a class="code" href="structCutInfo.html#o11">frac3</a>.<a class="code" href="structCut.html#o1">upper</a>);
00100 }
00101 
00102 <span class="keyword">inline</span> <span class="keywordtype">bool</span> SuperCutter::passLensize( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param ) {
00103     <span class="keywordflow">return</span> (param.<a class="code" href="structHillasParameterization.html#o10">length_over_size</a> &gt;= _cuts.<a class="code" href="structCutInfo.html#o7">lensize</a>.<a class="code" href="structCut.html#o0">lower</a>&amp;&amp;
00104             param.<a class="code" href="structHillasParameterization.html#o10">length_over_size</a> &lt;= _cuts.<a class="code" href="structCutInfo.html#o7">lensize</a>.<a class="code" href="structCut.html#o1">upper</a>);
00105 }
00106 
00107 <span class="keyword">inline</span> <span class="keywordtype">bool</span> SuperCutter::passLength( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param ){
00108     <span class="keywordflow">return</span> (param.<a class="code" href="structHillasParameterization.html#o3">length</a> &gt;= _cuts.<a class="code" href="structCutInfo.html#o4">length</a>.<a class="code" href="structCut.html#o0">lower</a> &amp;&amp; 
00109             param.<a class="code" href="structHillasParameterization.html#o3">length</a> &lt;= _cuts.<a class="code" href="structCutInfo.html#o4">length</a>.<a class="code" href="structCut.html#o1">upper</a>);
00110 
00111 }
00112 
00113 <span class="keyword">inline</span> <span class="keywordtype">bool</span> SuperCutter::passWidth( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param ){
00114     <span class="keywordflow">return</span>(param.<a class="code" href="structHillasParameterization.html#o4">width</a> &gt;= _cuts.<a class="code" href="structCutInfo.html#o5">width</a>.<a class="code" href="structCut.html#o0">lower</a> &amp;&amp; 
00115            param.<a class="code" href="structHillasParameterization.html#o4">width</a> &lt;= _cuts.<a class="code" href="structCutInfo.html#o5">width</a>.<a class="code" href="structCut.html#o1">upper</a>);
00116 }
00117 
00118 <span class="keyword">inline</span> <span class="keywordtype">bool</span> SuperCutter::passDistance( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param ) {
00119     <span class="keywordflow">return</span> (param.<a class="code" href="structHillasParameterization.html#o7">distance</a> &gt;= _cuts.<a class="code" href="structCutInfo.html#o3">distance</a>.<a class="code" href="structCut.html#o0">lower</a> &amp;&amp; 
00120             param.<a class="code" href="structHillasParameterization.html#o7">distance</a> &lt;= _cuts.<a class="code" href="structCutInfo.html#o3">distance</a>.<a class="code" href="structCut.html#o1">upper</a>);
00121 }
00122 
00123 <span class="keyword">inline</span> <span class="keywordtype">bool</span> SuperCutter::passAlpha( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param ){
00124     <span class="keywordflow">return</span>(param.<a class="code" href="structHillasParameterization.html#o9">alpha</a>*180.0/M_PI &gt;= _cuts.<a class="code" href="structCutInfo.html#o2">alpha</a>.<a class="code" href="structCut.html#o0">lower</a> &amp;&amp; 
00125            param.<a class="code" href="structHillasParameterization.html#o9">alpha</a>*180/M_PI &lt;= _cuts.<a class="code" href="structCutInfo.html#o2">alpha</a>.<a class="code" href="structCut.html#o1">upper</a>);
00126 }
00127 
00128 <span class="keyword">inline</span> <span class="keywordtype">bool</span> SuperCutter::passAsymm( <a class="code" href="structHillasParameterization.html">HillasParameterization</a> &amp;param ){
00129     <span class="keywordflow">return</span>(param.<a class="code" href="structHillasParameterization.html#o7">distance</a> &gt;= _cuts.<a class="code" href="structCutInfo.html#o12">asymmdist</a>.<a class="code" href="structCut.html#o0">lower</a> &amp;&amp; 
00130            param.<a class="code" href="structHillasParameterization.html#o7">distance</a> &lt;= _cuts.<a class="code" href="structCutInfo.html#o12">asymmdist</a>.<a class="code" href="structCut.html#o1">upper</a>);   
00131 }
00132 
00133 
00134 
<a name="l00139"></a><a class="code" href="classCutFactory.html">00139</a> <span class="keyword">class </span><a class="code" href="classCutFactory.html">CutFactory</a> {
00140 
00141  <span class="keyword">public</span>:
00142     
00143     <span class="keyword">static</span> <a class="code" href="classCutFactory.html">CutFactory</a>* <a class="code" href="classCutFactory.html#e0">instance</a>();
00144     <a class="code" href="classSuperCutter.html">SuperCutter</a>* newCutter( <span class="keyword">const</span> <a class="code" href="classRunInfo.html">RunInfo</a> &amp;ri );
00145 
00146  <span class="keyword">protected</span>:
00147 
00148     <a class="code" href="classCutFactory.html">CutFactory</a>();
00149     
00150 
00151  <span class="keyword">private</span>:
00152 
00153     <span class="keyword">static</span> <a class="code" href="classCutFactory.html">CutFactory</a> *pinstance;
00154 
00155 
00156 };
00157 
00158 
00159 
00160 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Apr 21 10:22:46 2007 for wuparam by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
