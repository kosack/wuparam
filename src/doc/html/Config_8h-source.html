<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>wuparam: Config.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>Config.h</h1><div class="fragment"><pre>00001 <span class="comment">// </span>
00002 <span class="comment">// Config.h</span>
00003 <span class="comment">//</span>
00004 <span class="comment">// Karl Kosack &lt;kosack@hbar.wustl.edu&gt;</span>
00005 <span class="comment">//</span>
00006 
00007 
00008 <span class="preprocessor">#ifndef _CONFIG_H</span>
00009 <span class="preprocessor"></span><span class="preprocessor">#define _CONFIG_H</span>
00010 <span class="preprocessor"></span>
00011 <span class="preprocessor">#include &lt;fstream&gt;</span>
00012 <span class="preprocessor">#include &lt;string&gt;</span>
00013 <span class="preprocessor">#include &lt;queue&gt;</span>
00014 <span class="preprocessor">#include &lt;vector&gt;</span>
00015 <span class="preprocessor">#include &lt;map&gt;</span>
00016 <span class="preprocessor">#include "Types.h"</span>
00017 
00018 <span class="keyword">using</span> std::string;
00019 <span class="keyword">using</span> std::vector;
00020 
00021 <span class="comment">// Helper functions</span>
00022 
00023 <span class="keywordtype">void</span> removeWhiteSpace( string &amp;str );
00024 string getSupportDir();
00025 <span class="keywordtype">void</span> tokenize(<span class="keyword">const</span> string&amp; str, vector&lt;string&gt;&amp; tokens,
00026               <span class="keyword">const</span> string&amp; delimiters=<span class="stringliteral">" "</span>);
00027 
00028 
<a name="l00032"></a><a class="code" href="structCut.html">00032</a> <span class="keyword">struct </span><a class="code" href="structCut.html">Cut</a> {
00033     <span class="keywordtype">double</span> lower;
00034     <span class="keywordtype">double</span> upper;
00035 
00036     <a class="code" href="structCut.html">Cut</a>():lower(0),upper(1e9){;}
00037 
00038 
00039 };
00040 
<a name="l00045"></a><a class="code" href="structCutInfo.html">00045</a> <span class="keyword">struct </span><a class="code" href="structCutInfo.html">CutInfo</a> {
00046 
00047     <span class="keywordtype">double</span> tracking_ratio;
<a name="l00048"></a><a class="code" href="structCutInfo.html#o1">00048</a>     <span class="keywordtype">double</span> <a class="code" href="structCutInfo.html#o1">elongation</a>;          
00049     <a class="code" href="structCut.html">Cut</a> alpha;
00050     <a class="code" href="structCut.html">Cut</a> distance;
00051     <a class="code" href="structCut.html">Cut</a> length;
00052     <a class="code" href="structCut.html">Cut</a> width;
00053     <a class="code" href="structCut.html">Cut</a> size;
00054     <a class="code" href="structCut.html">Cut</a> lensize;
00055     <a class="code" href="structCut.html">Cut</a> max1;
00056     <a class="code" href="structCut.html">Cut</a> max2;
00057     <a class="code" href="structCut.html">Cut</a> max3;
00058     <a class="code" href="structCut.html">Cut</a> frac3;
00059     <a class="code" href="structCut.html">Cut</a> asymmdist;
00060     <span class="keywordtype">double</span> dlength; <span class="comment">// for zcutter</span>
00061     <span class="keywordtype">double</span> dwidth;  <span class="comment">// for zcutter</span>
00062 
<a name="l00063"></a><a class="code" href="structCutInfo.html#o15">00063</a>     <span class="keywordtype">double</span> <a class="code" href="structCutInfo.html#o15">smoothing_radius</a>;    
00064 
<a name="l00065"></a><a class="code" href="structCutInfo.html#o16">00065</a>     <span class="keywordtype">bool</span>  <a class="code" href="structCutInfo.html#o16">radial_analysis</a>;     
<a name="l00066"></a><a class="code" href="structCutInfo.html#o17">00066</a>     <a class="code" href="structCoordinate__t.html">Coordinate_t</a> <a class="code" href="structCutInfo.html#o17">radial_offset</a>;      
00067 
<a name="l00068"></a><a class="code" href="structCutInfo.html#o18">00068</a>     <span class="keywordtype">bool</span> <a class="code" href="structCutInfo.html#o18">alignment</a>;             
<a name="l00069"></a><a class="code" href="structCutInfo.html#o19">00069</a>     <a class="code" href="structCoordinate__t.html">Coordinate_t</a> <a class="code" href="structCutInfo.html#o19">align_offset</a>;       
00070 
00071     <a class="code" href="structCutInfo.html">CutInfo</a>() {
00072         <span class="comment">// set defaults</span>
00073         <a class="code" href="structCutInfo.html#o1">elongation</a> = 1.68;
00074         tracking_ratio = 3.0;
00075         alpha.<a class="code" href="structCut.html#o0">lower</a> = 0; alpha.<a class="code" href="structCut.html#o1">upper</a> = 1e9; 
00076         distance.<a class="code" href="structCut.html#o0">lower</a> = 0; distance.<a class="code" href="structCut.html#o1">upper</a> = 1e9; 
00077         length.<a class="code" href="structCut.html#o0">lower</a> = 0; length.<a class="code" href="structCut.html#o1">upper</a> = 1e9; 
00078         width.<a class="code" href="structCut.html#o0">lower</a> = 0; width.<a class="code" href="structCut.html#o1">upper</a> = 1e9; 
00079         size.<a class="code" href="structCut.html#o0">lower</a> = 0; size.<a class="code" href="structCut.html#o1">upper</a> = 1e9; 
00080         lensize.<a class="code" href="structCut.html#o0">lower</a> = 0; lensize.<a class="code" href="structCut.html#o1">upper</a> = 1e9; 
00081         max1.<a class="code" href="structCut.html#o0">lower</a> = 0; max1.<a class="code" href="structCut.html#o1">upper</a> = 1e9; 
00082         max2.<a class="code" href="structCut.html#o0">lower</a> = 0; max2.<a class="code" href="structCut.html#o1">upper</a> = 1e9; 
00083         max3.<a class="code" href="structCut.html#o0">lower</a> = 0; max3.<a class="code" href="structCut.html#o1">upper</a> = 1e9; 
00084         frac3.<a class="code" href="structCut.html#o0">lower</a> = 0; frac3.<a class="code" href="structCut.html#o1">upper</a> = 1e9; 
00085         asymmdist.<a class="code" href="structCut.html#o0">lower</a> = 0; asymmdist.<a class="code" href="structCut.html#o1">upper</a> = 1e9; 
00086         dlength=1e9;
00087         dwidth=1e9;
00088         <a class="code" href="structCutInfo.html#o15">smoothing_radius</a> = 0.25;
00089         <a class="code" href="structCutInfo.html#o16">radial_analysis</a> = <span class="keyword">false</span>;
00090         <a class="code" href="structCutInfo.html#o17">radial_offset</a>.<a class="code" href="structCoordinate__t.html#o0">x</a> = 0.0;
00091         <a class="code" href="structCutInfo.html#o17">radial_offset</a>.<a class="code" href="structCoordinate__t.html#o1">y</a> = 0.0;
00092         <a class="code" href="structCutInfo.html#o18">alignment</a> = <span class="keyword">false</span>;
00093         <a class="code" href="structCutInfo.html#o19">align_offset</a>.<a class="code" href="structCoordinate__t.html#o0">x</a> = 0.0;
00094         <a class="code" href="structCutInfo.html#o19">align_offset</a>.<a class="code" href="structCoordinate__t.html#o1">y</a> = 0.0;
00095     }
00096 
00097     <span class="keyword">friend</span> std::ostream &amp;operator&lt;&lt;( std::ostream &amp;stream,<span class="keyword">const</span> <a class="code" href="structCutInfo.html">CutInfo</a> &amp;c);
00098 
00099 };
00100 
00101 
<a name="l00117"></a><a class="code" href="classRunInfo.html">00117</a> <span class="keyword">class </span><a class="code" href="classRunInfo.html">RunInfo</a> {
00118     
00119  <span class="keyword">public</span>:
00120 
<a name="l00121"></a><a class="code" href="classRunInfo.html#o0">00121</a>     <span class="keywordtype">char</span> <a class="code" href="classRunInfo.html#o0">type</a>;                  
<a name="l00122"></a><a class="code" href="classRunInfo.html#o1">00122</a>     string <a class="code" href="classRunInfo.html#o1">datadir</a>;             
<a name="l00123"></a><a class="code" href="classRunInfo.html#o2">00123</a>     string <a class="code" href="classRunInfo.html#o2">cachedir</a>;            
<a name="l00124"></a><a class="code" href="classRunInfo.html#o3">00124</a>     string <a class="code" href="classRunInfo.html#o3">sourcename</a>;          
<a name="l00125"></a><a class="code" href="classRunInfo.html#o4">00125</a>     string <a class="code" href="classRunInfo.html#o4">onid</a>;                
<a name="l00126"></a><a class="code" href="classRunInfo.html#o5">00126</a>     string <a class="code" href="classRunInfo.html#o5">offid</a>;               
<a name="l00127"></a><a class="code" href="classRunInfo.html#o6">00127</a>     string <a class="code" href="classRunInfo.html#o6">n2id</a>;                
<a name="l00128"></a><a class="code" href="classRunInfo.html#o7">00128</a>     string <a class="code" href="classRunInfo.html#o7">utdate</a>;              
<a name="l00129"></a><a class="code" href="classRunInfo.html#o8">00129</a>     string <a class="code" href="classRunInfo.html#o8">arrayconfig</a>;         
00130 
<a name="l00131"></a><a class="code" href="classRunInfo.html#o9">00131</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o9">ra</a>;                  
<a name="l00132"></a><a class="code" href="classRunInfo.html#o10">00132</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o10">dec</a>;                 
<a name="l00133"></a><a class="code" href="classRunInfo.html#o11">00133</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o11">zenithoverride</a>;      
<a name="l00134"></a><a class="code" href="classRunInfo.html#o12">00134</a>     <span class="keywordtype">int</span>    <a class="code" href="classRunInfo.html#o12">ntubes</a>;              
<a name="l00135"></a><a class="code" href="classRunInfo.html#o13">00135</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o13">picthresh</a>;           
<a name="l00136"></a><a class="code" href="classRunInfo.html#o14">00136</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o14">bndthresh</a>;           
<a name="l00137"></a><a class="code" href="classRunInfo.html#o15">00137</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o15">padlevel</a>;            
00138 
<a name="l00139"></a><a class="code" href="classRunInfo.html#o16">00139</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o16">utbase</a>;              
00140 
<a name="l00141"></a><a class="code" href="classRunInfo.html#o17">00141</a>     <span class="keywordtype">bool</span>   <a class="code" href="classRunInfo.html#o17">padding</a>;             
<a name="l00142"></a><a class="code" href="classRunInfo.html#o18">00142</a>     <span class="keywordtype">bool</span>   <a class="code" href="classRunInfo.html#o18">pad_track_with_run</a>;  
<a name="l00143"></a><a class="code" href="classRunInfo.html#o19">00143</a>     <span class="keywordtype">bool</span>   <a class="code" href="classRunInfo.html#o19">derotation</a>;          
<a name="l00144"></a><a class="code" href="classRunInfo.html#o20">00144</a>     <span class="keywordtype">bool</span>   <a class="code" href="classRunInfo.html#o20">muoncalibrate</a>;       
<a name="l00145"></a><a class="code" href="classRunInfo.html#o21">00145</a>     <span class="keywordtype">int</span>    <a class="code" href="classRunInfo.html#o21">outtype</a>;             
<a name="l00146"></a><a class="code" href="classRunInfo.html#o22">00146</a>     <a class="code" href="structCutInfo.html">CutInfo</a> <a class="code" href="classRunInfo.html#o22">cuts</a>;               
<a name="l00147"></a><a class="code" href="classRunInfo.html#o23">00147</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o23">muon_threshold</a>;      
<a name="l00148"></a><a class="code" href="classRunInfo.html#o24">00148</a>     <span class="keywordtype">int</span>    <a class="code" href="classRunInfo.html#o24">cuttype</a>;             
00149 
<a name="l00150"></a><a class="code" href="classRunInfo.html#o25">00150</a>     string <a class="code" href="classRunInfo.html#o25">mcdatabase</a>;          
<a name="l00151"></a><a class="code" href="classRunInfo.html#o26">00151</a>     string <a class="code" href="classRunInfo.html#o26">energyestimator</a>;     
<a name="l00152"></a><a class="code" href="classRunInfo.html#o27">00152</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o27">emin_tev</a>;            
<a name="l00153"></a><a class="code" href="classRunInfo.html#o28">00153</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o28">emax_tev</a>;            
<a name="l00154"></a><a class="code" href="classRunInfo.html#o29">00154</a>     <span class="keywordtype">int</span>    <a class="code" href="classRunInfo.html#o29">num_e_bins</a>;          
<a name="l00155"></a><a class="code" href="classRunInfo.html#o30">00155</a>     <span class="keywordtype">bool</span>   <a class="code" href="classRunInfo.html#o30">tubemask</a>[1024];      
00156     
<a name="l00157"></a><a class="code" href="classRunInfo.html#o31">00157</a>     <span class="keywordtype">bool</span> <a class="code" href="classRunInfo.html#o31">camera_offset_analysis</a>;
00158     <a class="code" href="structCoordinate__t.html">Coordinate_t</a> camera_offset;
00159 
<a name="l00160"></a><a class="code" href="classRunInfo.html#o33">00160</a>     <span class="keywordtype">int</span> <a class="code" href="classRunInfo.html#o33">max_ped_events</a>;         
00161 
<a name="l00162"></a><a class="code" href="classRunInfo.html#o34">00162</a>     <span class="keywordtype">bool</span> <a class="code" href="classRunInfo.html#o34">image_filter</a>;          
00163                                 <span class="comment">// parameterization instead of using</span>
00164                                 <span class="comment">// standard cleaner</span>
<a name="l00165"></a><a class="code" href="classRunInfo.html#o35">00165</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o35">filter_amount</a>;       
<a name="l00166"></a><a class="code" href="classRunInfo.html#o36">00166</a>     <span class="keywordtype">int</span> <a class="code" href="classRunInfo.html#o36">filter_subdivide</a>;       
<a name="l00167"></a><a class="code" href="classRunInfo.html#o37">00167</a>     <span class="keywordtype">int</span> <a class="code" href="classRunInfo.html#o37">filter_iter</a>;            
<a name="l00168"></a><a class="code" href="classRunInfo.html#o38">00168</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o38">filter_smoothness</a>;   
00169     <span class="keywordtype">double</span> filter_percent;
<a name="l00170"></a><a class="code" href="classRunInfo.html#o40">00170</a>     <span class="keywordtype">double</span> <a class="code" href="classRunInfo.html#o40">filter_threshold</a>;   
00171     
00172 };
00173 
00174 
00175 <span class="keyword">class </span>TrackingRunInfo : <span class="keyword">public</span> <a class="code" href="classRunInfo.html">RunInfo</a> {
00176 
00177 
00178 
00179 
00180 };
00181 
00182 <span class="keyword">class </span>PairRunInfo : <span class="keyword">public</span> <a class="code" href="classRunInfo.html">RunInfo</a> {
00183 
00184 
00185 };
00186 
00187 
<a name="l00191"></a><a class="code" href="classConfig.html">00191</a> <span class="keyword">class </span><a class="code" href="classConfig.html">Config</a> {
00192     
00193  <span class="keyword">public</span>:
00194     
00195     <a class="code" href="classConfig.html">Config</a>(<span class="keywordtype">char</span> *filename);
00196     ~<a class="code" href="classConfig.html">Config</a>();
00197 
00198     <span class="keyword">enum</span> RunType { TRACK,ONOFF };
00199     <span class="keyword">enum</span> OutType { NTUPLE, TEXT };
00200     <span class="keyword">enum</span> CutType { SUPERCUTTER, ZCUTTER, EZCUTTER,SPECTRALCUTTER };
00201 
00202     <span class="keywordtype">void</span>    <a class="code" href="classConfig.html#a2">writeSample</a>(<span class="keywordtype">char</span> *file);
00203     <a class="code" href="classRunInfo.html">RunInfo</a> <a class="code" href="classConfig.html#a3">getNextRun</a>();
00204     std::deque&lt;RunInfo&gt;&amp; getRunQueue(){ <span class="keywordflow">return</span> _runqueue; }
00205     <span class="keywordtype">bool</span>    isDone() { <span class="keywordflow">return</span> _runqueue.empty(); }
00206     <span class="keywordtype">int</span>     getRunCount(){ <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)_runqueue.size();}
00207 
00208 
00209  <span class="keyword">private</span>:
00210 
00211 
00212     <span class="keywordtype">void</span> openFailed(<span class="keywordtype">char</span> *filename);
00213     <span class="keywordtype">void</span> parse(<span class="keywordtype">char</span> *filename, <span class="keywordtype">int</span> level=0 ) ;
00214     <span class="keywordtype">void</span> addRun();
00215     <span class="keywordtype">void</span> loadAlignmentMap( std::string file );
00216 
00217     std::deque&lt;RunInfo&gt; _runqueue;
00218     <a class="code" href="classRunInfo.html">RunInfo</a> _curinfo;
00219     std::map&lt;std::string,Coordinate_t&gt; _alignmap;
00220     
00221 };
00222 
00223 
00224 
00225 
00226 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Apr 21 10:22:45 2007 for wuparam by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
