<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>wuparam: DataRecords.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>DataRecords.h</h1><div class="fragment"><pre>00001 <span class="comment">// DataRecords.h</span>
00002 <span class="comment">// Karl Kosack &lt;kosack@hbar.wustl.edu&gt;</span>
00003 
00004 <span class="preprocessor">#ifndef DATARECORDS_H</span>
00005 <span class="preprocessor"></span><span class="preprocessor">#define DATARECORDS_H</span>
00006 <span class="preprocessor"></span>
00007 <span class="comment">// HERE ARE ALL THE DATA STRUCTURES NEEDED TO READ/WRITE DATA:</span>
00008 
00009 <span class="preprocessor">#include "Image2D.h"</span>
00010 <span class="preprocessor">#include &lt;vector&gt;</span>
00011 
<a name="l00018"></a><a class="code" href="structRecord.html">00018</a> <span class="keyword">struct </span><a class="code" href="structRecord.html">Record</a> {
00019 
00020 };
00021 
00022 
<a name="l00030"></a><a class="code" href="structHeaderRecord.html">00030</a> <span class="keyword">struct </span><a class="code" href="structHeaderRecord.html">HeaderRecord</a> : <span class="keyword">public</span> <a class="code" href="structRecord.html">Record</a> {
00031 
<a name="l00032"></a><a class="code" href="structHeaderRecord.html#o0">00032</a>     <span class="keywordtype">int</span> <a class="code" href="structHeaderRecord.html#o0">num_telescopes</a>;         
<a name="l00033"></a><a class="code" href="structHeaderRecord.html#o1">00033</a>     std::vector&lt;int&gt; <a class="code" href="structHeaderRecord.html#o1">nadc</a>;      
<a name="l00034"></a><a class="code" href="structHeaderRecord.html#o2">00034</a>     <span class="keywordtype">double</span> <a class="code" href="structHeaderRecord.html#o2">ra</a>;                  
<a name="l00035"></a><a class="code" href="structHeaderRecord.html#o3">00035</a>     <span class="keywordtype">double</span> <a class="code" href="structHeaderRecord.html#o3">dec</a>;                 
<a name="l00036"></a><a class="code" href="structHeaderRecord.html#o4">00036</a>     <span class="keywordtype">double</span> <a class="code" href="structHeaderRecord.html#o4">starttime</a>;           
<a name="l00037"></a><a class="code" href="structHeaderRecord.html#o5">00037</a>     <span class="keywordtype">double</span> <a class="code" href="structHeaderRecord.html#o5">endtime</a>;             
<a name="l00038"></a><a class="code" href="structHeaderRecord.html#o6">00038</a>     <span class="keywordtype">double</span> <a class="code" href="structHeaderRecord.html#o6">average_elevation</a>;   
<a name="l00039"></a><a class="code" href="structHeaderRecord.html#o7">00039</a>     <span class="keywordtype">int</span> <a class="code" href="structHeaderRecord.html#o7">windowsize</a>;             
<a name="l00040"></a><a class="code" href="structHeaderRecord.html#o8">00040</a>     std::string <a class="code" href="structHeaderRecord.html#o8">sourcename</a>;     
00041    
00042 };
00043 
00044 
00045 <span class="keyword">struct </span>SimShowerRecord  {
00046     <span class="keywordtype">int</span> event_number;
00047     <span class="keywordtype">int</span> primary_type;
00048     <span class="keywordtype">double</span> primary_energy;
00049     <a class="code" href="structCoordinate__t.html">Coordinate_t</a> impact_parameter;
00050     <a class="code" href="structCoordinate__t.html">Coordinate_t</a> direction_cos;
00051 };
00052 
00053 
00054 
<a name="l00058"></a><a class="code" href="structEventRecord.html">00058</a> <span class="keyword">struct </span><a class="code" href="structEventRecord.html">EventRecord</a> : <span class="keyword">public</span> <a class="code" href="structRecord.html">Record</a> {
00059 
00060 
00061 };
00062 
00063 
00064 
<a name="l00068"></a><a class="code" href="structRawEventRecord.html">00068</a> <span class="keyword">struct </span><a class="code" href="structRawEventRecord.html">RawEventRecord</a> : <span class="keyword">public</span> <a class="code" href="structEventRecord.html">EventRecord</a> {
00069 
00070     <span class="keywordtype">int</span>     type;
00071     <span class="keywordtype">double</span>  gpstime;
00072     <span class="keywordtype">double</span>  osctime;
00073     <span class="keywordtype">double</span>  livetime;
00074     <span class="keywordtype">short</span>   elevation;
00075     <span class="keywordtype">short</span>   azimuth;
00076     <span class="keywordtype">int</span>     telescope_id;
00077     Array_t adc;   
00078 
00079 
00080 };
00081 
00082 
00083 <span class="keyword">struct </span>RawHeaderRecord : <span class="keyword">public</span> <a class="code" href="structHeaderRecord.html">HeaderRecord</a> {
00084 
00085 };
00086 
<a name="l00090"></a><a class="code" href="structCutRecord.html">00090</a> <span class="keyword">struct </span><a class="code" href="structCutRecord.html">CutRecord</a> : <span class="keyword">public</span> <a class="code" href="structRecord.html">Record</a> {
00091 
00092     std::string runid;
00093     <span class="keywordtype">int</span> total;                  <span class="comment">// total number of events</span>
00094     <span class="keywordtype">int</span> valid;                  <span class="comment">// valid events</span>
00095     <span class="keywordtype">int</span> trigger;                <span class="comment">// events passing trigger cut</span>
00096     <span class="keywordtype">int</span> shape;                  <span class="comment">// events passing shape cut</span>
00097     <span class="keywordtype">int</span> orientation;            <span class="comment">// events passing orientation cut</span>
00098     <span class="keywordtype">int</span> trackoff;               <span class="comment">// events that are tracking "off" events</span>
00099     <span class="keywordtype">double</span> duration;            <span class="comment">// Run duration in minutes</span>
00100     <span class="keywordtype">double</span> average_elevation;   <span class="comment">// average zenith angle</span>
00101 
00102     <a class="code" href="classImage2D.html">Image2D</a> im2d;               <span class="comment">// 2-D image</span>
00103     <a class="code" href="classImage2D.html">Image2D</a> skybright;          <span class="comment">// Sky brightness</span>
00104     <a class="code" href="classImage2D.html">Image2D</a> tubeoff;            <span class="comment">// Tubeoffness</span>
00105 
00106     std::vector&lt;Coordinate_t&gt; poolist;<span class="comment">// point-of-origin list for later binning</span>
00107 
00108     <a class="code" href="structCutRecord.html">CutRecord</a>() {
00109         duration=0;
00110         total=0;
00111         valid=0;
00112         trigger=0;
00113         shape=0;
00114         orientation=0;
00115         trackoff =0;
00116         runid=<span class="stringliteral">"unknown"</span>;
00117         im2d.<a class="code" href="classImage2D.html#a1">setCoordinateBox</a>( -im2d.<a class="code" href="classImage2D.html#a21">getXDim</a>()*0.1/2.0, 
00118                                -im2d.<a class="code" href="classImage2D.html#a22">getYDim</a>()*0.1/2.0,
00119                                im2d.<a class="code" href="classImage2D.html#a21">getXDim</a>()*0.1/2.0,
00120                                im2d.<a class="code" href="classImage2D.html#a22">getYDim</a>()*0.1/2.0 );
00121         skybright.<a class="code" href="classImage2D.html#a1">setCoordinateBox</a>( -im2d.<a class="code" href="classImage2D.html#a21">getXDim</a>()*0.1/2.0, 
00122                                -im2d.<a class="code" href="classImage2D.html#a22">getYDim</a>()*0.1/2.0,
00123                                im2d.<a class="code" href="classImage2D.html#a21">getXDim</a>()*0.1/2.0,
00124                                im2d.<a class="code" href="classImage2D.html#a22">getYDim</a>()*0.1/2.0 );
00125         tubeoff.<a class="code" href="classImage2D.html#a1">setCoordinateBox</a>( -im2d.<a class="code" href="classImage2D.html#a21">getXDim</a>()*0.1/2.0, 
00126                                -im2d.<a class="code" href="classImage2D.html#a22">getYDim</a>()*0.1/2.0,
00127                                im2d.<a class="code" href="classImage2D.html#a21">getXDim</a>()*0.1/2.0,
00128                                im2d.<a class="code" href="classImage2D.html#a22">getYDim</a>()*0.1/2.0 );
00129         poolist.reserve(2000);
00130                                
00131     }
00132 
00133     ~<a class="code" href="structCutRecord.html">CutRecord</a>() {
00134 
00135     }
00136 
00137     <span class="keywordtype">void</span> addValuesFrom( <a class="code" href="structCutRecord.html">CutRecord</a> &amp;cr ) {
00138         total += cr.<a class="code" href="structCutRecord.html#o1">total</a>;
00139         valid += cr.<a class="code" href="structCutRecord.html#o2">valid</a>;
00140         trigger += cr.<a class="code" href="structCutRecord.html#o3">trigger</a>;
00141         shape += cr.<a class="code" href="structCutRecord.html#o4">shape</a>;
00142         orientation += cr.<a class="code" href="structCutRecord.html#o5">orientation</a>;
00143         trackoff += cr.<a class="code" href="structCutRecord.html#o6">trackoff</a>;
00144         duration += cr.<a class="code" href="structCutRecord.html#o7">duration</a>;
00145         average_elevation = (average_elevation + cr.<a class="code" href="structCutRecord.html#o8">average_elevation</a>)/2.0;
00146         im2d.<a class="code" href="classImage2D.html#a19">addImage</a>( cr.<a class="code" href="structCutRecord.html#o9">im2d</a> );
00147         skybright.<a class="code" href="classImage2D.html#a19">addImage</a>( cr.<a class="code" href="structCutRecord.html#o10">skybright</a> );
00148         tubeoff.<a class="code" href="classImage2D.html#a19">addImage</a>( cr.<a class="code" href="structCutRecord.html#o11">tubeoff</a> );
00149 
00150         std::vector&lt;Coordinate_t&gt;::iterator coord;
00151         <span class="keywordflow">for</span>(coord=cr.<a class="code" href="structCutRecord.html#o12">poolist</a>.begin(); coord != cr.<a class="code" href="structCutRecord.html#o12">poolist</a>.end(); coord++){
00152             poolist.push_back( *coord );
00153         }
00154     }
00155 
00156 };
00157 
<a name="l00161"></a><a class="code" href="classRawRunInfo.html">00161</a> <span class="keyword">class </span><a class="code" href="classRawRunInfo.html">RawRunInfo</a> {
00162 
00163  <span class="keyword">public</span>:
00164     std::string sourcename;
00165     std::string runid;
00166     <span class="keywordtype">int</span> nadc;
00167     <span class="keywordtype">double</span> ra;
00168     <span class="keywordtype">double</span> dec;
00169     <span class="keywordtype">double</span> starttime;
00170 
00171 };
00172 
<a name="l00176"></a><a class="code" href="classParamRunInfo.html">00176</a> <span class="keyword">class </span><a class="code" href="classParamRunInfo.html">ParamRunInfo</a> : <span class="keyword">public</span> <a class="code" href="classRawRunInfo.html">RawRunInfo</a> {
00177 
00178  <span class="keyword">public</span>:
00179 
00180     <span class="keywordtype">double</span> endtime;
00181     <span class="keywordtype">double</span> average_elevation;
00182    
00183 };
00184 
<a name="l00188"></a><a class="code" href="classCutRunInfo.html">00188</a> <span class="keyword">class </span><a class="code" href="classCutRunInfo.html">CutRunInfo</a> : <span class="keyword">public</span> <a class="code" href="classParamRunInfo.html">ParamRunInfo</a> {
00189     
00190  <span class="keyword">public</span>:
00191     
00192     <span class="keywordtype">int</span> total;                  <span class="comment">// total number of events</span>
00193     <span class="keywordtype">int</span> valid;                  <span class="comment">// valid events</span>
00194     <span class="keywordtype">int</span> trigger;                <span class="comment">// events passing trigger cut</span>
00195     <span class="keywordtype">int</span> shape;                  <span class="comment">// events passing shape cut</span>
00196     <span class="keywordtype">int</span> orientation;            <span class="comment">// events passing orientation cut</span>
00197     <span class="keywordtype">int</span> trackoff;               <span class="comment">// events that are tracking "off" events</span>
00198     <span class="keywordtype">double</span> duration;            <span class="comment">// Run duration in minutes</span>
00199 
00200 };
00201 
00202 
00203 <span class="preprocessor">#endif</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Apr 21 10:22:45 2007 for wuparam by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
